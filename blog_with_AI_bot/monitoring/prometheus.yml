#monitoring/prometheus.yml
global:
  scrape_interval: 10s
  evaluation_interval: 10s

scrape_configs:
  # 🧠 Django web app
  - job_name: "django"
    metrics_path: "/metrics"
    static_configs:
      - targets: ["web:8000"]

  # ⚙️ Celery metrics
  - job_name: "celery"
    static_configs:
      - targets: ["celery-exporter:9808"]

  # 🌼 Flower monitoring
  - job_name: "flower"
    metrics_path: "/metrics"
    static_configs:
      - targets: ["flower:5555"]

  # 💾 Redis exporter
  - job_name: "redis"
    static_configs:
      - targets: ["redis-exporter:9121"]

  # 🧱 Ollama (опционально, если будет endpoint /metrics)
  - job_name: "ollama"
    static_configs:
      - targets: ["ollama:11434"]
